# 実装計画

- [x] 1. Rails 8 デフォルトへのコア Rails 設定更新

  - `config/application.rb`を更新して`config.load_defaults 8.0`を使用
  - `rails app:update`を実行して Rails 8 設定ファイルを生成
  - Rails 8 デフォルトからの設定変更を確認してマージ
  - _要件: 1.2, 1.3_

- [x] 2. Rails 8 互換性のための Rails binstubs の再生成

  - 現在の Bundler 生成 binstubs を削除
  - `rails app:update:bin`を実行して Rails 8 binstubs を生成
  - 必要に応じて`.gitignore`を更新して bin/ディレクトリを適切に含める
  - すべての binstubs が正しく動作することをテスト
  - _要件: 1.1, 4.3_

- [x] 3. Rails 8 用の開発環境設定更新

  - `config/environments/development.rb`を Rails 8 デフォルトと照合して確認
  - Rails 8 用のアセットパイプライン設定を更新
  - 開発ツールとデバッグが Rails 8 で動作することを確認
  - 開発サーバーの起動と機能をテスト
  - _要件: 4.3, 5.1_

- [ ] 4. Rails 8 用の本番環境設定更新

  - `config/environments/production.rb`を Rails 8 デフォルトと照合して確認
  - Rails 8 用のセキュリティとパフォーマンス設定を更新
  - アセットコンパイルと提供が正しく動作することを確認
  - ログと監視設定を更新
  - _要件: 5.1, 5.2, 6.1, 6.4_

- [ ] 5. Rails 8 用のテスト環境設定更新

  - `config/environments/test.rb`を Rails 8 デフォルトと照合して確認
  - RSpec とテストツールが Rails 8 で動作することを確認
  - テストデータベースと Active Storage 設定を更新
  - すべてのテストヘルパーとファクトリが正しく動作することを検証
  - _要件: 4.1, 4.2_

- [ ] 6. Rails 8 互換性のためのデータベース設定更新

  - Rails 8 ベストプラクティスのために`config/database.yml`を確認
  - 接続プールとパフォーマンス設定を更新
  - すべての環境でデータベース設定が動作することを確認
  - データベース接続と Active Record 機能をテスト
  - _要件: 3.1, 3.2_

- [ ] 7. Rails 8 用の Active Record 設定更新

  - Rails 8 互換性のための Active Record イニシャライザーを確認
  - クエリログとパフォーマンス監視設定を更新
  - Rails 8 でのマイグレーション互換性を確認
  - モデル読み込みとパックベースモデルアクセスをテスト
  - _要件: 3.2, 3.3, 3.4_

- [ ] 8. アセットパイプラインと JavaScript 設定の更新

  - Rails 8 互換性のためのアセットパイプライン設定を確認
  - JavaScript バンドリング設定（webpack/importmap）を更新
  - Stimulus と Turbo が Rails 8 で正しく動作することを確認
  - すべての環境でアセットコンパイルと提供をテスト
  - _要件: 2.2, 2.4_

- [ ] 9. Rails 8 用の CSS と Sass 設定更新

  - Rails 8 互換性のための Sass 設定を確認
  - アセットコンパイル設定を更新
  - パック固有のスタイルシートが正しく動作することを確認
  - すべてのパックで CSS コンパイルと提供をテスト
  - _要件: 2.4_

- [ ] 10. Rails 8 での Packwerk 互換性検証

  - Rails 8 オートローディングでの Packwerk 依存関係チェックをテスト
  - パック固有のルートが Rails 8 ルーティングシステムで動作することを確認
  - パックプライバシー強制が正しく動作することを検証
  - パックベースモデルとサービスアクセスパターンをテスト
  - _要件: 7.1, 7.2, 7.3_

- [ ] 11. Rails 8 用のパック固有設定更新

  - Rails 8 互換性のための各パックのルート設定を確認
  - 必要に応じてパック固有のイニシャライザーを更新
  - パックベースアセットが Rails 8 アセットパイプラインで動作することを確認
  - パック固有のコントローラーとビューをテスト
  - _要件: 7.2, 7.4_

- [ ] 12. Rails 8 用のセキュリティ設定更新

  - Content Security Policy 設定を確認して更新
  - Rails 8 用の CSRF 保護設定を更新
  - セキュリティヘッダーとミドルウェアが Rails 8 デフォルトを使用することを確認
  - クッキーとセッションセキュリティ設定を更新
  - _要件: 5.1, 5.3_

- [ ] 13. Rails 8 用のパフォーマンス設定更新

  - Rails 8 パフォーマンス最適化を有効化
  - Rails 8 用のキャッシュ設定を更新
  - ミドルウェアスタックを確認して最適化
  - 接続プールとデータベースパフォーマンス設定を更新
  - _要件: 5.2, 5.4_

- [ ] 14. Rails 8 互換性のためのイニシャライザー更新

  - Rails 8 互換性のために`config/initializers/`内のすべてのイニシャライザーを確認
  - 非推奨の設定とメソッドを更新
  - すべてのサードパーティ gem イニシャライザーが Rails 8 で動作することを確認
  - すべてのイニシャライザーでアプリケーション起動をテスト
  - _要件: 1.3, 1.4_

- [ ] 15. Rails 8 互換性のための Gemfile 依存関係更新

  - Rails 8 互換性のためのすべての gem を確認
  - Rails 8 固有バージョンがある gem バージョンを更新
  - もはや必要でない非推奨 gem を削除
  - すべての gem が Rails 8 で正しく動作することをテスト
  - _要件: 2.1, 4.2_

- [ ] 16. テスト設定更新と包括的テストスイート実行

  - Rails 8 互換性のための RSpec 設定を更新
  - すべてのテストヘルパーが Rails 8 で動作することを確認
  - Rails 8 用のファクトリ設定を更新
  - 完全なテストスイートを実行して Rails 8 互換性問題を修正
  - _要件: 4.1, 4.2_

- [ ] 17. 開発ツールとデバッグ設定の更新

  - web-console が Rails 8 で正しく動作することを確認
  - デバッグツール（byebug、pry）の Rails 8 互換性を更新
  - 開発エラーページとデバッグ機能をテスト
  - 開発ログと監視を更新
  - _要件: 4.3_

- [ ] 18. 最終統合テストとドキュメント作成
  - Rails 8 での完全なアプリケーション機能をテスト
  - すべてのパックベース機能が正しく動作することを検証
  - 本番モードでのアセットコンパイルと提供をテスト
  - Rails 8 固有設定のドキュメントを更新
  - _要件: 1.4, 6.2, 6.3_
